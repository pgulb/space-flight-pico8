pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function O()if e.t>0then if(e.d>119)e.d=119
if(e.d<0)e.d=0
if(e.e<0)e.e=0
if(e.e>119)e.e=119
end end function p()if(n>0)n-=1
end function _()for n in all(i)do n.e-=2if(n.e<0)del(i,n)
end end function y()if(e.t>0)sfx(0)m={d=e.d,e=e.e-9}add(i,m)n=30
end function R()e.u=not e.u end function v()if e.t>0then d.r+=1if(d.r>19)d.r=0d.f+=1
end end function N()if e.t<1then e.d=34463e.e=34463music(-1)sfx(2)if(d.f>c)dset(0,d.f)a=true
if(d.o>l)dset(1,d.o)E=true
end end function W()if e.t>0then if(flr(rnd(9))==1)r={s=flr(rnd(6))+4,d=flr(rnd(119)),e=flr(rnd(20))-28,i=flr(rnd(5))}add(f,r)
end end function H()for n in all(f)do if(flr(rnd(7))==0)b(n.d,n.e)
if n.i==0then n.e+=1elseif n.i==1then n.e+=2elseif n.i==2then n.e+=3elseif n.i==3then n.e+=2if(n.e>0)n.d+=1
elseif n.i==4then n.e+=2if(n.e>0)n.d-=1
else e.t+=1end end end function C()for n in all(f)do if(n.e>127)del(f,n)
end end function g(n,e)if(n.d+7>=e.d and n.d<=e.d+7and(n.e+7>=e.e and n.e<=e.e+7))return true else return false
end function T()for n in all(i)do for e in all(f)do if(g(n,e))del(i,n)del(f,e)d.f+=1d.o+=1break
end end end function D()for n in all(f)do if g(e,n)then e.t-=1if(e.t<1)N()else sfx(1)
del(f,n)end end end function S()return flr(rnd(3))+8end function b(n,e)u={d=n,e=e,c=S(),h=flr(rnd(15))+10}function u.a()u.c=S()end add(o,u)end function k()for n in all(o)do n.a()n.h-=1n.d+=flr(rnd(5))-2n.e+=flr(rnd(3))if(n.h<=0)del(o,n)
end end function w()for n=0,(flr(rnd(5))+5)do I={d=flr(rnd(128)),e=flr(rnd(128)),h=flr(rnd(10))+5}add(h,I)end end function G()for n in all(h)do n.h-=1if(n.h<=0)del(h,n)
end end function Y()for n=1,10do r={s=flr(rnd(6))+4,d=n*10,e=30,i=99}add(f,r)end end function M()for n=0,3do sfx(-1,n)end e.d=60e.e=80e.t=3d.r=0d.f=0d.o=0for n in all(f)do del(f,n)end for n in all(i)do del(i,n)end n=0end function _init()cartdata"pgulb_space_flight_bestscores"c=dget(0)l=dget(1)a=false E=false e={d=60,e=80,t=3,u=true}d={r=0,f=0,o=0}n=0i={}f={}o={}h={}s=true music(0)end function _update60()G()w()if s then if(btn(4)and btn(5))music(-1)s=false
else R()k()b(e.d+flr(rnd(1))+2,e.e+4)if(btn(0))e.d-=1
if(btn(1))e.d+=1
if(btn(2))e.e-=1
if(btn(3))e.e+=1
p()O()H()C()W()_()if(btn(4)and n==0)y()
v()T()D()if e.t<1then if(btn(4)and btn(5))M()
end end end function _draw()cls()for n in all(h)do print(".",n.d,n.e,flr(rnd(1))+6)end if s then print("space flight",40,64,8)print("hit 🅾️ and ❎ to start",25,72,7)print("use arrows to fly and 🅾️ to shoot",0,80,7)print("avoid asteroids and shoot them",3,88,7)else spr(1,e.d,e.e)spr(2,e.d,e.e+7,1,1,e.u)print("score: "..d.f,0,0,7)for n in all(o)do print(".",n.d,n.e,n.c)end for n in all(i)do spr(3,n.d,n.e)end for n=0,e.t-1do spr(16,0+n*9,5)end for n in all(f)do spr(n.s,n.d,n.e)end if e.t<1then print("game over",45,44,8)print("destroyed asteroids: "..d.o,20,60,7)print("best score: "..c,20,68,7)print("most destroyed: "..l,20,76,7)if(a)print("NEW HIGHSCORE!",20,90,10)
if(E)print("NEW MOST DESTROYED SCORE!",17,95,10)
print("hit 🅾️ and ❎ to restart",17,105,11)end end end
__gfx__
0000000000066000000880000006600000011000000000000000c000000a0aa00000600000660060000000000000000000000000000000000000000000000000
0000000000066000000808000067660000111100000990000000c000aa0000aa0006600066000606000000000000000000000000000000000000000000000000
0070070000b11b0000008000007666000111110000999900000cc0000a0aa0a00066660066066600000000000000000000000000000000000000000000000000
000770000067760000080800006776000111111009999990ccccccc000aaaa006666666000666660000000000000000000000000000000000000000000000000
000770000b7777b00080800000667600011111100999990000ccccccaa0aaaaa0666666606666666000000000000000000000000000000000000000000000000
007007000676676008080800007666000011110009999900000ccc00a0000a000066660060666600000000000000000000000000000000000000000000000000
0000000067877876008808000067660000000000099990000000c0000a0aa0aa0006600000600660000000000000000000000000000000000000000000000000
0000000086066068080000000006700000000000000000000000c00000aa000a0006000006006060000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08700870000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88888887000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88888887000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08888870000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00888700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00087000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00010000000000000000000000000000000000300502e0502a0502805026050250502305021050200501d0501b0501a0501805015050120500f0500d0500b0500a05009050070500605006050040500405003050
000100000805008050070500705006050050500405003050020500205001050010500105001050010500105001050010500105001050010500105001050010500105001050010500105001050010500105000050
001000001f0501f0501f0501305013050130500f0500f0500e0500c0500a050090500905009050080500705007050060500505005050010500105001050010500105001050010500105001050010500105000000
000b0000030500305003050030500305003050030500305013050130501305003050030500305003050080500805008050030500305003050030501a0501a0501a05003050030500305003050110501305015050
__music__
02 03424344
__label__
06600660066066606660000000006660666000000000000000000000000000000000006666cccccc000000000000000000000000000000000000000000000000
6000600060606060600006000000006060600000000000000000000000000000000006666cccccccc00000000000000000000000000000000000000000000000
6660600060606600660000000000066066600000000000000000000000000000000000660cccccccc00000000000000000000000000000000000000000000000
00606000606060606000060000000060606000000000000000000000000000000000000000cccccc000000000000000000000000000000000000000000000000
660006606600606066600000000066606660000000000000000000000000000000000000000cccc0000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000cc00000000000000000000000000000000000000000000000000
08700870008700870008700870000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88888888088888888088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88888887088888887088888887000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88888887088888887088888887000000000000000000006600600000000000000000000000000000000000000000000000000000000000000000000000000000
08888870008888870008888870000000000000000000666006660000000000000000000000000000000000000000000000000000000000000000000000000000
00888700000888700000888700000000000000000000666666000000000000000000000000000000000000000000000000000000000000000000000000000000
00087000000087000000087000000000000000000000666660600000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000066666660000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000066666000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000666606600000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000066000660000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccc00000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccc0000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccc000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccccc000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cccccc0000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000cc00000000000cccc00000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000cccc00000000000cc00000000000000cc00000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000cccccc0000000000000000000000000cccc0000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000cccccccc00000000000000000000000cccccc000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000cccccccc0000000000000000000000cccccccc00000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000cccccc00000000000000000000000cccccccc00000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000cccc0000000000000000000000000cccccc00000000000000000e
0000000000000000000000000000000000000000000000000000000000000000000000000000cc000000000000000000000000000cccc0000000000000000eee
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc00000000000000000eee
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000110011000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001011111100000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111100000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111100000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001011011000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001011011100000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000066006000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000006660066600000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000006666660000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000006666606000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000666666600000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000666660000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000006666066000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000660006600000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000aaaaaaaa00000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000aaaaaaaa00000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000ee000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000ee000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000eeee00000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000eeeeeeee000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000eeeeeeee000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000aa000000000000000eeee00000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000aa0000000000000000ee000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000aa0000000000000000ee000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000aaaaaaaa000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000aaaaaaaa000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000aa000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000aa000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000aa000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000cc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000cccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000cccccc0000000000000000000000000006600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000cccccccc000000000000000000000000006600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000cccccccc0000000000000000000000000b11b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000cccccc0000000000000000000000000061160000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000cccc00000000000000000000000000b1111b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000cc000000000000000000000000000616616000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000006180081600000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000008600006800000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000008800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000088880000000000000000000000000000000000000000000000000000000000000000000000011001100000000000
00000000000000000000000000000000000088888000000000000000000000000000000000000000000000000000000000000000000000111111100000000000
00000000000000000000000000000000000088888000000000000000000000000000000000000000000000000000000000000000000000101111110000000000
00000000000000000000000000000000000088880000000000000000000000000000000000000000000000000000000000000000000000011111110000000000
00000000000000000000000000000000000088888000000000000000000000000000000000000000000000000000000000000000000000111111110000000000
00000000000000000000000000000000000880808000000000000000000000000000000000000000000000000000000000000000000000111111100000000000
00000000000000000000000000000000000800800000000000000000000000000000000000000000000000000000000000000000000000101101100000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101101110000000000
0000cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000cccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00cccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0cccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0cccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00cccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000cccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__meta:title__

utility functions
